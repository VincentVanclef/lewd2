{"id":"GM+5","dependencies":[{"name":"C:\\Users\\inaba\\Programming\\Lewd2\\.babelrc","includedInParent":true,"mtime":1545517173655},{"name":"C:\\Users\\inaba\\Programming\\Lewd2\\package.json","includedInParent":true,"mtime":1545850952595},{"name":"../../helpers/database","loc":{"line":1,"column":21},"parent":"C:\\Users\\inaba\\Programming\\Lewd2\\src\\Functions\\Register\\checkIfUsernameExists.js","resolved":"C:\\Users\\inaba\\Programming\\Lewd2\\src\\helpers\\database.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.checkIfUsernameExists=exports.checkIfUsernameNotExists=void 0;var e=s(require(\"../../helpers/database\"));function s(e){return e&&e.__esModule?e:{default:e}}const r=s=>e.default.query('SELECT username FROM \"Users\" WHERE username = $1;',[s]).then(e=>0===e.rows.length?Promise.resolve():Promise.reject(\" \"));exports.checkIfUsernameNotExists=r;const t=s=>e.default.query('SELECT username FROM \"Users\" WHERE username = $1;',[s]).then(e=>0===e.rows.length?Promise.reject(\"aaaaaaa\"):Promise.resolve());exports.checkIfUsernameExists=t;","map":{"mappings":[{"source":"Functions/Register/checkIfUsernameExists.js","original":{"line":23,"column":0},"generated":{"line":1,"column":0}},{"source":"Functions/Register/checkIfUsernameExists.js","original":{"line":23,"column":0},"generated":{"line":1,"column":13}},{"source":"Functions/Register/checkIfUsernameExists.js","original":{"line":23,"column":0},"generated":{"line":1,"column":20}},{"source":"Functions/Register/checkIfUsernameExists.js","original":{"line":23,"column":0},"generated":{"line":1,"column":35}},{"source":"Functions/Register/checkIfUsernameExists.js","original":{"line":23,"column":0},"generated":{"line":1,"column":43}},{"source":"Functions/Register/checkIfUsernameExists.js","original":{"line":23,"column":0},"generated":{"line":1,"column":56}},{"source":"Functions/Register/checkIfUsernameExists.js","original":{"line":23,"column":0},"generated":{"line":1,"column":57}},{"source":"Functions/Register/checkIfUsernameExists.js","original":{"line":23,"column":0},"generated":{"line":1,"column":64}},{"source":"Functions/Register/checkIfUsernameExists.js","original":{"line":23,"column":0},"generated":{"line":1,"column":68}},{"source":"Functions/Register/checkIfUsernameExists.js","original":{"line":23,"column":0},"generated":{"line":1,"column":76}},{"source":"Functions/Register/checkIfUsernameExists.js","original":{"line":23,"column":0},"generated":{"line":1,"column":98}},{"source":"Functions/Register/checkIfUsernameExists.js","original":{"line":23,"column":0},"generated":{"line":1,"column":106}},{"source":"Functions/Register/checkIfUsernameExists.js","original":{"line":23,"column":0},"generated":{"line":1,"column":136}},{"source":"Functions/Register/checkIfUsernameExists.js","original":{"line":1,"column":0},"generated":{"line":1,"column":138}},{"source":"Functions/Register/checkIfUsernameExists.js","original":{"line":1,"column":0},"generated":{"line":1,"column":142}},{"source":"Functions/Register/checkIfUsernameExists.js","original":{"line":1,"column":0},"generated":{"line":1,"column":144}},{"source":"Functions/Register/checkIfUsernameExists.js","original":{"line":1,"column":0},"generated":{"line":1,"column":146}},{"source":"Functions/Register/checkIfUsernameExists.js","original":{"line":1,"column":0},"generated":{"line":1,"column":154}},{"source":"Functions/Register/checkIfUsernameExists.js","original":{"line":23,"column":0},"generated":{"line":1,"column":181}},{"source":"Functions/Register/checkIfUsernameExists.js","original":{"line":23,"column":0},"generated":{"line":1,"column":190}},{"source":"Functions/Register/checkIfUsernameExists.js","original":{"line":23,"column":0},"generated":{"line":1,"column":192}},{"source":"Functions/Register/checkIfUsernameExists.js","original":{"line":23,"column":0},"generated":{"line":1,"column":195}},{"source":"Functions/Register/checkIfUsernameExists.js","original":{"line":23,"column":0},"generated":{"line":1,"column":202}},{"source":"Functions/Register/checkIfUsernameExists.js","original":{"line":23,"column":0},"generated":{"line":1,"column":205}},{"source":"Functions/Register/checkIfUsernameExists.js","original":{"line":23,"column":0},"generated":{"line":1,"column":207}},{"source":"Functions/Register/checkIfUsernameExists.js","original":{"line":23,"column":0},"generated":{"line":1,"column":218}},{"source":"Functions/Register/checkIfUsernameExists.js","original":{"line":23,"column":0},"generated":{"line":1,"column":220}},{"source":"Functions/Register/checkIfUsernameExists.js","original":{"line":23,"column":0},"generated":{"line":1,"column":221}},{"source":"Functions/Register/checkIfUsernameExists.js","original":{"line":23,"column":0},"generated":{"line":1,"column":229}},{"source":"Functions/Register/checkIfUsernameExists.js","original":{"line":7,"column":0},"generated":{"line":1,"column":232}},{"source":"Functions/Register/checkIfUsernameExists.js","name":"checkIfUsernameNotExists","original":{"line":7,"column":6},"generated":{"line":1,"column":238}},{"source":"Functions/Register/checkIfUsernameExists.js","name":"value","original":{"line":7,"column":33},"generated":{"line":1,"column":240}},{"source":"Functions/Register/checkIfUsernameExists.js","name":"db","original":{"line":8,"column":11},"generated":{"line":1,"column":243}},{"source":"Functions/Register/checkIfUsernameExists.js","name":"query","original":{"line":8,"column":14},"generated":{"line":1,"column":245}},{"source":"Functions/Register/checkIfUsernameExists.js","name":"query","original":{"line":8,"column":14},"generated":{"line":1,"column":253}},{"source":"Functions/Register/checkIfUsernameExists.js","original":{"line":8,"column":21},"generated":{"line":1,"column":259}},{"source":"Functions/Register/checkIfUsernameExists.js","original":{"line":8,"column":73},"generated":{"line":1,"column":311}},{"source":"Functions/Register/checkIfUsernameExists.js","name":"value","original":{"line":8,"column":74},"generated":{"line":1,"column":312}},{"source":"Functions/Register/checkIfUsernameExists.js","name":"then","original":{"line":9,"column":14},"generated":{"line":1,"column":316}},{"source":"Functions/Register/checkIfUsernameExists.js","name":"result","original":{"line":9,"column":19},"generated":{"line":1,"column":321}},{"source":"Functions/Register/checkIfUsernameExists.js","original":{"line":11,"column":44},"generated":{"line":1,"column":324}},{"source":"Functions/Register/checkIfUsernameExists.js","name":"result","original":{"line":11,"column":21},"generated":{"line":1,"column":328}},{"source":"Functions/Register/checkIfUsernameExists.js","name":"rows","original":{"line":11,"column":28},"generated":{"line":1,"column":330}},{"source":"Functions/Register/checkIfUsernameExists.js","name":"length","original":{"line":11,"column":33},"generated":{"line":1,"column":335}},{"source":"Functions/Register/checkIfUsernameExists.js","name":"Promise","original":{"line":12,"column":27},"generated":{"line":1,"column":342}},{"source":"Functions/Register/checkIfUsernameExists.js","name":"resolve","original":{"line":12,"column":35},"generated":{"line":1,"column":350}},{"source":"Functions/Register/checkIfUsernameExists.js","name":"Promise","original":{"line":15,"column":24},"generated":{"line":1,"column":360}},{"source":"Functions/Register/checkIfUsernameExists.js","name":"reject","original":{"line":15,"column":32},"generated":{"line":1,"column":368}},{"source":"Functions/Register/checkIfUsernameExists.js","original":{"line":15,"column":39},"generated":{"line":1,"column":375}},{"source":"Functions/Register/checkIfUsernameExists.js","original":{"line":23,"column":0},"generated":{"line":1,"column":381}},{"source":"Functions/Register/checkIfUsernameExists.js","original":{"line":23,"column":0},"generated":{"line":1,"column":389}},{"source":"Functions/Register/checkIfUsernameExists.js","original":{"line":23,"column":0},"generated":{"line":1,"column":414}},{"source":"Functions/Register/checkIfUsernameExists.js","original":{"line":23,"column":0},"generated":{"line":1,"column":416}},{"source":"Functions/Register/checkIfUsernameExists.js","name":"checkIfUsernameExists","original":{"line":23,"column":6},"generated":{"line":1,"column":422}},{"source":"Functions/Register/checkIfUsernameExists.js","name":"value","original":{"line":23,"column":30},"generated":{"line":1,"column":424}},{"source":"Functions/Register/checkIfUsernameExists.js","name":"db","original":{"line":24,"column":11},"generated":{"line":1,"column":427}},{"source":"Functions/Register/checkIfUsernameExists.js","name":"query","original":{"line":24,"column":14},"generated":{"line":1,"column":429}},{"source":"Functions/Register/checkIfUsernameExists.js","name":"query","original":{"line":24,"column":14},"generated":{"line":1,"column":437}},{"source":"Functions/Register/checkIfUsernameExists.js","original":{"line":24,"column":21},"generated":{"line":1,"column":443}},{"source":"Functions/Register/checkIfUsernameExists.js","original":{"line":24,"column":73},"generated":{"line":1,"column":495}},{"source":"Functions/Register/checkIfUsernameExists.js","name":"value","original":{"line":24,"column":74},"generated":{"line":1,"column":496}},{"source":"Functions/Register/checkIfUsernameExists.js","name":"then","original":{"line":25,"column":14},"generated":{"line":1,"column":500}},{"source":"Functions/Register/checkIfUsernameExists.js","name":"result","original":{"line":25,"column":19},"generated":{"line":1,"column":505}},{"source":"Functions/Register/checkIfUsernameExists.js","original":{"line":26,"column":44},"generated":{"line":1,"column":508}},{"source":"Functions/Register/checkIfUsernameExists.js","name":"result","original":{"line":26,"column":21},"generated":{"line":1,"column":512}},{"source":"Functions/Register/checkIfUsernameExists.js","name":"rows","original":{"line":26,"column":28},"generated":{"line":1,"column":514}},{"source":"Functions/Register/checkIfUsernameExists.js","name":"length","original":{"line":26,"column":33},"generated":{"line":1,"column":519}},{"source":"Functions/Register/checkIfUsernameExists.js","name":"Promise","original":{"line":27,"column":27},"generated":{"line":1,"column":526}},{"source":"Functions/Register/checkIfUsernameExists.js","name":"reject","original":{"line":27,"column":35},"generated":{"line":1,"column":534}},{"source":"Functions/Register/checkIfUsernameExists.js","original":{"line":27,"column":42},"generated":{"line":1,"column":541}},{"source":"Functions/Register/checkIfUsernameExists.js","name":"Promise","original":{"line":29,"column":24},"generated":{"line":1,"column":552}},{"source":"Functions/Register/checkIfUsernameExists.js","name":"resolve","original":{"line":29,"column":32},"generated":{"line":1,"column":560}},{"source":"Functions/Register/checkIfUsernameExists.js","original":{"line":23,"column":0},"generated":{"line":1,"column":571}},{"source":"Functions/Register/checkIfUsernameExists.js","original":{"line":23,"column":0},"generated":{"line":1,"column":579}},{"source":"Functions/Register/checkIfUsernameExists.js","original":{"line":23,"column":0},"generated":{"line":1,"column":601}}],"sources":{"Functions/Register/checkIfUsernameExists.js":"import db       from \"../../helpers/database\";\r\n\r\n/**\r\n * Custom express validator to check if a username exists\r\n * @param {string} value The username to check \r\n */\r\nconst checkIfUsernameNotExists = value => {\r\n    return db.query(`SELECT username FROM \"Users\" WHERE username = $1;`, [value])\r\n             .then(result => {\r\n                 // User not found\r\n                 if (result.rows.length === 0)\r\n                    return Promise.resolve();\r\n                 \r\n                 // User found\r\n                 return Promise.reject(\" \");\r\n             });\r\n};\r\n\r\n/**\r\n * Custom express validator to check if a username exists because express-validator is a bastich and broke when not().custom() was usedasdfas kjfhasfjhg\r\n * @param {string} value The username to check \r\n */\r\nconst checkIfUsernameExists = value => {\r\n    return db.query(`SELECT username FROM \"Users\" WHERE username = $1;`, [value])\r\n             .then(result => {\r\n                 if (result.rows.length === 0)\r\n                    return Promise.reject(\"aaaaaaa\");\r\n                 \r\n                 return Promise.resolve();\r\n             });\r\n};\r\n\r\nexport { checkIfUsernameNotExists as checkIfUsernameNotExists };\r\nexport { checkIfUsernameExists as checkIfUsernameExists };"},"lineCount":null}},"hash":"48b917e082600ae9000dec5f9b15fbb6","cacheData":{"env":{}}}