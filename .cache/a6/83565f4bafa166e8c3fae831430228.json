{"id":"A2T1","dependencies":[{"name":"C:\\Users\\inaba\\Programming\\Lewd2\\.babelrc","includedInParent":true,"mtime":1545517173655},{"name":"C:\\Users\\inaba\\Programming\\Lewd2\\package.json","includedInParent":true,"mtime":1545850952595},{"name":"./helpers/frontendErrorFormatter","loc":{"line":11,"column":27},"parent":"C:\\Users\\inaba\\Programming\\Lewd2\\src\\app.js","resolved":"C:\\Users\\inaba\\Programming\\Lewd2\\src\\helpers\\frontendErrorFormatter.js"},{"name":"./Functions/User/getUserDetails","loc":{"line":12,"column":27},"parent":"C:\\Users\\inaba\\Programming\\Lewd2\\src\\app.js","resolved":"C:\\Users\\inaba\\Programming\\Lewd2\\src\\Functions\\User\\getUserDetails.js"},{"name":"./helpers/passport","loc":{"line":14,"column":27},"parent":"C:\\Users\\inaba\\Programming\\Lewd2\\src\\app.js","resolved":"C:\\Users\\inaba\\Programming\\Lewd2\\src\\helpers\\passport.js"},{"name":"./Routes","loc":{"line":18,"column":21},"parent":"C:\\Users\\inaba\\Programming\\Lewd2\\src\\app.js","resolved":"C:\\Users\\inaba\\Programming\\Lewd2\\src\\Routes\\index.js"},{"name":"./Routes/login","loc":{"line":19,"column":21},"parent":"C:\\Users\\inaba\\Programming\\Lewd2\\src\\app.js","resolved":"C:\\Users\\inaba\\Programming\\Lewd2\\src\\Routes\\login.js"},{"name":"./Routes/upload","loc":{"line":20,"column":21},"parent":"C:\\Users\\inaba\\Programming\\Lewd2\\src\\app.js","resolved":"C:\\Users\\inaba\\Programming\\Lewd2\\src\\Routes\\upload.js"},{"name":"./Routes/user","loc":{"line":21,"column":21},"parent":"C:\\Users\\inaba\\Programming\\Lewd2\\src\\app.js","resolved":"C:\\Users\\inaba\\Programming\\Lewd2\\src\\Routes\\user.js"},{"name":"./Routes/register","loc":{"line":22,"column":21},"parent":"C:\\Users\\inaba\\Programming\\Lewd2\\src\\app.js","resolved":"C:\\Users\\inaba\\Programming\\Lewd2\\src\\Routes\\register.js"},{"name":"./Routes/delete","loc":{"line":23,"column":21},"parent":"C:\\Users\\inaba\\Programming\\Lewd2\\src\\app.js","resolved":"C:\\Users\\inaba\\Programming\\Lewd2\\src\\Routes\\delete.js"},{"name":"./Routes/admin","loc":{"line":24,"column":21},"parent":"C:\\Users\\inaba\\Programming\\Lewd2\\src\\app.js","resolved":"C:\\Users\\inaba\\Programming\\Lewd2\\src\\Routes\\admin.js"}],"generated":{"js":"\"use strict\";var e=I(require(\"express\")),s=I(require(\"express-handlebars\")),r=I(require(\"path\")),t=I(require(\"express-flash\")),u=I(require(\"cookie-session\")),i=I(require(\"body-parser\")),a=I(require(\"cookie-parser\")),n=I(require(\"./helpers/frontendErrorFormatter\")),o=I(require(\"./Functions/User/getUserDetails\")),l=I(require(\"fs\")),d=I(require(\"./helpers/passport\")),f=I(require(\"moment\")),c=I(require(\"./Routes\")),p=I(require(\"./Routes/login\")),h=I(require(\"./Routes/upload\")),m=I(require(\"./Routes/user\")),q=I(require(\"./Routes/register\")),_=I(require(\"./Routes/delete\")),g=I(require(\"./Routes/admin\"));function I(e){return e&&e.__esModule?e:{default:e}}require(\"dotenv\").config();const v=(e,s)=>Math.floor(Math.random()*s+e),T=(0,e.default)();T.engine(\"hbs\",(0,s.default)({defaultLayout:__dirname+\"/../views/main\",extname:\"hbs\",partialsDir:__dirname+\"/../views/partials/\",helpers:{partial:function(e){return e},waifu:()=>{const e=l.default.readdirSync(__dirname+\"/../Public/Images/Waifus\");if(0===e.length)return\"\";const s=v(0,e.length);return process.env.SITE_LINK+\"Images/Waifus/\"+e[s]},dateFormatter:function(e){return(0,f.default)(e).format(\"LL\")},typeFormatter:function(e){return e.startsWith(\"https://\")||e.startsWith(\"http://\")?`<a href=\"${e}\">Link</a>`:e.split(`found in file ${process.env.UPLOAD_DESTINATION}`)[0].split(\"Virus \")[1].split(\"'\")[1]}}})),T.set(\"view engine\",\"hbs\"),T.use(e.default.static(r.default.join(__dirname,\"/../Public\"))),T.use(i.default.urlencoded({extended:!0})),T.use(i.default.json()),T.use((0,a.default)(\"lewd\")),T.use((0,u.default)({name:\"session\",secret:\"lewd\",maxAge:18e5,overwrite:!1})),T.use((0,t.default)()),T.use(d.default.initialize()),T.use(d.default.session()),T.locals.siteName=process.env.SITE_NAME,T.locals.uploadLink=process.env.UPLOAD_LINK,T.use(async(e,s,r)=>{s.locals.user=await(0,o.default)(e.user),r()}),T.use((e,s,r)=>{e.session.err&&(s.locals.errors=(0,n.default)(e.session.err),delete e.session.err),e.session.flash&&(s.locals.message=e.session.flash,delete e.session.flash),r()}),T.use(\"/\",c.default),T.use(\"/login\",p.default),T.use(\"/upload\",h.default),T.use(\"/user\",m.default),T.use(\"/register\",q.default),T.use(\"/delete\",_.default),T.use(\"/user/admin\",g.default),T.use((e,s,r)=>{s.status(404).render(\"404\")}),l.default.existsSync(process.env.UPLOAD_DESTINATION)||(console.error(`Could not open upload directory at: ${process.env.UPLOAD_DESTINATION}`),console.error(\"Try checking if the UPLOAD_DESTINATION environment variable is correct\"),process.exit(1)),T.listen(parseInt(process.env.SITE_PORT),()=>console.log(\"It's up and running :3\"));","map":{"mappings":[{"source":"app.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"app.js","original":{"line":4,"column":0},"generated":{"line":1,"column":13}},{"source":"app.js","original":{"line":4,"column":0},"generated":{"line":1,"column":17}},{"source":"app.js","original":{"line":4,"column":0},"generated":{"line":1,"column":19}},{"source":"app.js","original":{"line":4,"column":0},"generated":{"line":1,"column":21}},{"source":"app.js","original":{"line":4,"column":0},"generated":{"line":1,"column":29}},{"source":"app.js","original":{"line":5,"column":0},"generated":{"line":1,"column":41}},{"source":"app.js","original":{"line":5,"column":0},"generated":{"line":1,"column":43}},{"source":"app.js","original":{"line":5,"column":0},"generated":{"line":1,"column":45}},{"source":"app.js","original":{"line":5,"column":0},"generated":{"line":1,"column":53}},{"source":"app.js","original":{"line":6,"column":0},"generated":{"line":1,"column":76}},{"source":"app.js","original":{"line":6,"column":0},"generated":{"line":1,"column":78}},{"source":"app.js","original":{"line":6,"column":0},"generated":{"line":1,"column":80}},{"source":"app.js","original":{"line":6,"column":0},"generated":{"line":1,"column":88}},{"source":"app.js","original":{"line":7,"column":0},"generated":{"line":1,"column":97}},{"source":"app.js","original":{"line":7,"column":0},"generated":{"line":1,"column":99}},{"source":"app.js","original":{"line":7,"column":0},"generated":{"line":1,"column":101}},{"source":"app.js","original":{"line":7,"column":0},"generated":{"line":1,"column":109}},{"source":"app.js","original":{"line":8,"column":0},"generated":{"line":1,"column":127}},{"source":"app.js","original":{"line":8,"column":0},"generated":{"line":1,"column":129}},{"source":"app.js","original":{"line":8,"column":0},"generated":{"line":1,"column":131}},{"source":"app.js","original":{"line":8,"column":0},"generated":{"line":1,"column":139}},{"source":"app.js","original":{"line":9,"column":0},"generated":{"line":1,"column":158}},{"source":"app.js","original":{"line":9,"column":0},"generated":{"line":1,"column":160}},{"source":"app.js","original":{"line":9,"column":0},"generated":{"line":1,"column":162}},{"source":"app.js","original":{"line":9,"column":0},"generated":{"line":1,"column":170}},{"source":"app.js","original":{"line":10,"column":0},"generated":{"line":1,"column":186}},{"source":"app.js","original":{"line":10,"column":0},"generated":{"line":1,"column":188}},{"source":"app.js","original":{"line":10,"column":0},"generated":{"line":1,"column":190}},{"source":"app.js","original":{"line":10,"column":0},"generated":{"line":1,"column":198}},{"source":"app.js","original":{"line":11,"column":0},"generated":{"line":1,"column":216}},{"source":"app.js","original":{"line":11,"column":0},"generated":{"line":1,"column":218}},{"source":"app.js","original":{"line":11,"column":0},"generated":{"line":1,"column":220}},{"source":"app.js","original":{"line":11,"column":0},"generated":{"line":1,"column":228}},{"source":"app.js","original":{"line":12,"column":0},"generated":{"line":1,"column":265}},{"source":"app.js","original":{"line":12,"column":0},"generated":{"line":1,"column":267}},{"source":"app.js","original":{"line":12,"column":0},"generated":{"line":1,"column":269}},{"source":"app.js","original":{"line":12,"column":0},"generated":{"line":1,"column":277}},{"source":"app.js","original":{"line":13,"column":0},"generated":{"line":1,"column":313}},{"source":"app.js","original":{"line":13,"column":0},"generated":{"line":1,"column":315}},{"source":"app.js","original":{"line":13,"column":0},"generated":{"line":1,"column":317}},{"source":"app.js","original":{"line":13,"column":0},"generated":{"line":1,"column":325}},{"source":"app.js","original":{"line":14,"column":0},"generated":{"line":1,"column":332}},{"source":"app.js","original":{"line":14,"column":0},"generated":{"line":1,"column":334}},{"source":"app.js","original":{"line":14,"column":0},"generated":{"line":1,"column":336}},{"source":"app.js","original":{"line":14,"column":0},"generated":{"line":1,"column":344}},{"source":"app.js","original":{"line":15,"column":0},"generated":{"line":1,"column":367}},{"source":"app.js","original":{"line":15,"column":0},"generated":{"line":1,"column":369}},{"source":"app.js","original":{"line":15,"column":0},"generated":{"line":1,"column":371}},{"source":"app.js","original":{"line":15,"column":0},"generated":{"line":1,"column":379}},{"source":"app.js","original":{"line":18,"column":0},"generated":{"line":1,"column":390}},{"source":"app.js","original":{"line":18,"column":0},"generated":{"line":1,"column":392}},{"source":"app.js","original":{"line":18,"column":0},"generated":{"line":1,"column":394}},{"source":"app.js","original":{"line":18,"column":0},"generated":{"line":1,"column":402}},{"source":"app.js","original":{"line":19,"column":0},"generated":{"line":1,"column":415}},{"source":"app.js","original":{"line":19,"column":0},"generated":{"line":1,"column":417}},{"source":"app.js","original":{"line":19,"column":0},"generated":{"line":1,"column":419}},{"source":"app.js","original":{"line":19,"column":0},"generated":{"line":1,"column":427}},{"source":"app.js","original":{"line":20,"column":0},"generated":{"line":1,"column":446}},{"source":"app.js","original":{"line":20,"column":0},"generated":{"line":1,"column":448}},{"source":"app.js","original":{"line":20,"column":0},"generated":{"line":1,"column":450}},{"source":"app.js","original":{"line":20,"column":0},"generated":{"line":1,"column":458}},{"source":"app.js","original":{"line":21,"column":0},"generated":{"line":1,"column":478}},{"source":"app.js","original":{"line":21,"column":0},"generated":{"line":1,"column":480}},{"source":"app.js","original":{"line":21,"column":0},"generated":{"line":1,"column":482}},{"source":"app.js","original":{"line":21,"column":0},"generated":{"line":1,"column":490}},{"source":"app.js","original":{"line":22,"column":0},"generated":{"line":1,"column":508}},{"source":"app.js","original":{"line":22,"column":0},"generated":{"line":1,"column":510}},{"source":"app.js","original":{"line":22,"column":0},"generated":{"line":1,"column":512}},{"source":"app.js","original":{"line":22,"column":0},"generated":{"line":1,"column":520}},{"source":"app.js","original":{"line":23,"column":0},"generated":{"line":1,"column":542}},{"source":"app.js","original":{"line":23,"column":0},"generated":{"line":1,"column":544}},{"source":"app.js","original":{"line":23,"column":0},"generated":{"line":1,"column":546}},{"source":"app.js","original":{"line":23,"column":0},"generated":{"line":1,"column":554}},{"source":"app.js","original":{"line":24,"column":0},"generated":{"line":1,"column":574}},{"source":"app.js","original":{"line":24,"column":0},"generated":{"line":1,"column":576}},{"source":"app.js","original":{"line":24,"column":0},"generated":{"line":1,"column":578}},{"source":"app.js","original":{"line":24,"column":0},"generated":{"line":1,"column":586}},{"source":"app.js","original":{"line":131,"column":0},"generated":{"line":1,"column":605}},{"source":"app.js","original":{"line":131,"column":0},"generated":{"line":1,"column":614}},{"source":"app.js","original":{"line":131,"column":0},"generated":{"line":1,"column":616}},{"source":"app.js","original":{"line":131,"column":0},"generated":{"line":1,"column":619}},{"source":"app.js","original":{"line":131,"column":0},"generated":{"line":1,"column":626}},{"source":"app.js","original":{"line":131,"column":0},"generated":{"line":1,"column":629}},{"source":"app.js","original":{"line":131,"column":0},"generated":{"line":1,"column":631}},{"source":"app.js","original":{"line":131,"column":0},"generated":{"line":1,"column":642}},{"source":"app.js","original":{"line":131,"column":0},"generated":{"line":1,"column":644}},{"source":"app.js","original":{"line":131,"column":0},"generated":{"line":1,"column":645}},{"source":"app.js","original":{"line":131,"column":0},"generated":{"line":1,"column":653}},{"source":"app.js","name":"require","original":{"line":2,"column":0},"generated":{"line":1,"column":656}},{"source":"app.js","original":{"line":2,"column":8},"generated":{"line":1,"column":664}},{"source":"app.js","name":"config","original":{"line":2,"column":18},"generated":{"line":1,"column":674}},{"source":"app.js","original":{"line":26,"column":0},"generated":{"line":1,"column":683}},{"source":"app.js","name":"randomNumber","original":{"line":26,"column":6},"generated":{"line":1,"column":689}},{"source":"app.js","original":{"line":26,"column":22},"generated":{"line":1,"column":691}},{"source":"app.js","name":"x","original":{"line":26,"column":23},"generated":{"line":1,"column":692}},{"source":"app.js","name":"y","original":{"line":26,"column":26},"generated":{"line":1,"column":694}},{"source":"app.js","name":"Math","original":{"line":26,"column":33},"generated":{"line":1,"column":698}},{"source":"app.js","name":"floor","original":{"line":26,"column":38},"generated":{"line":1,"column":703}},{"source":"app.js","name":"Math","original":{"line":26,"column":45},"generated":{"line":1,"column":709}},{"source":"app.js","name":"random","original":{"line":26,"column":50},"generated":{"line":1,"column":714}},{"source":"app.js","name":"y","original":{"line":26,"column":61},"generated":{"line":1,"column":723}},{"source":"app.js","name":"x","original":{"line":26,"column":66},"generated":{"line":1,"column":725}},{"source":"app.js","name":"app","original":{"line":28,"column":6},"generated":{"line":1,"column":728}},{"source":"app.js","original":{"line":28,"column":12},"generated":{"line":1,"column":731}},{"source":"app.js","original":{"line":28,"column":0},"generated":{"line":1,"column":733}},{"source":"app.js","original":{"line":28,"column":0},"generated":{"line":1,"column":735}},{"source":"app.js","name":"app","original":{"line":31,"column":0},"generated":{"line":1,"column":746}},{"source":"app.js","name":"engine","original":{"line":31,"column":4},"generated":{"line":1,"column":748}},{"source":"app.js","original":{"line":31,"column":12},"generated":{"line":1,"column":755}},{"source":"app.js","original":{"line":31,"column":19},"generated":{"line":1,"column":762}},{"source":"app.js","original":{"line":31,"column":31},"generated":{"line":1,"column":764}},{"source":"app.js","original":{"line":31,"column":31},"generated":{"line":1,"column":766}},{"source":"app.js","original":{"line":31,"column":31},"generated":{"line":1,"column":775}},{"source":"app.js","name":"defaultLayout","original":{"line":32,"column":4},"generated":{"line":1,"column":776}},{"source":"app.js","name":"__dirname","original":{"line":32,"column":19},"generated":{"line":1,"column":790}},{"source":"app.js","original":{"line":32,"column":31},"generated":{"line":1,"column":800}},{"source":"app.js","name":"extname","original":{"line":33,"column":4},"generated":{"line":1,"column":817}},{"source":"app.js","original":{"line":33,"column":13},"generated":{"line":1,"column":825}},{"source":"app.js","name":"partialsDir","original":{"line":34,"column":4},"generated":{"line":1,"column":831}},{"source":"app.js","name":"__dirname","original":{"line":34,"column":17},"generated":{"line":1,"column":843}},{"source":"app.js","original":{"line":34,"column":29},"generated":{"line":1,"column":853}},{"source":"app.js","name":"helpers","original":{"line":35,"column":4},"generated":{"line":1,"column":875}},{"source":"app.js","original":{"line":35,"column":13},"generated":{"line":1,"column":883}},{"source":"app.js","name":"partial","original":{"line":36,"column":8},"generated":{"line":1,"column":884}},{"source":"app.js","original":{"line":36,"column":17},"generated":{"line":1,"column":892}},{"source":"app.js","name":"name","original":{"line":36,"column":27},"generated":{"line":1,"column":901}},{"source":"app.js","name":"name","original":{"line":37,"column":19},"generated":{"line":1,"column":904}},{"source":"app.js","name":"name","original":{"line":37,"column":19},"generated":{"line":1,"column":911}},{"source":"app.js","name":"waifu","original":{"line":39,"column":8},"generated":{"line":1,"column":914}},{"source":"app.js","original":{"line":39,"column":15},"generated":{"line":1,"column":920}},{"source":"app.js","name":"files","original":{"line":40,"column":18},"generated":{"line":1,"column":925}},{"source":"app.js","name":"files","original":{"line":40,"column":18},"generated":{"line":1,"column":931}},{"source":"app.js","name":"fs","original":{"line":40,"column":26},"generated":{"line":1,"column":933}},{"source":"app.js","name":"readdirSync","original":{"line":40,"column":29},"generated":{"line":1,"column":935}},{"source":"app.js","name":"readdirSync","original":{"line":40,"column":29},"generated":{"line":1,"column":943}},{"source":"app.js","name":"__dirname","original":{"line":40,"column":41},"generated":{"line":1,"column":955}},{"source":"app.js","original":{"line":40,"column":53},"generated":{"line":1,"column":965}},{"source":"app.js","name":"files","original":{"line":42,"column":16},"generated":{"line":1,"column":993}},{"source":"app.js","original":{"line":42,"column":33},"generated":{"line":1,"column":996}},{"source":"app.js","name":"files","original":{"line":42,"column":16},"generated":{"line":1,"column":1000}},{"source":"app.js","name":"length","original":{"line":42,"column":22},"generated":{"line":1,"column":1002}},{"source":"app.js","original":{"line":43,"column":16},"generated":{"line":1,"column":1009}},{"source":"app.js","original":{"line":43,"column":23},"generated":{"line":1,"column":1015}},{"source":"app.js","name":"randomIndex","original":{"line":45,"column":18},"generated":{"line":1,"column":1018}},{"source":"app.js","name":"randomIndex","original":{"line":45,"column":18},"generated":{"line":1,"column":1024}},{"source":"app.js","name":"randomNumber","original":{"line":45,"column":32},"generated":{"line":1,"column":1026}},{"source":"app.js","original":{"line":45,"column":45},"generated":{"line":1,"column":1028}},{"source":"app.js","name":"files","original":{"line":45,"column":48},"generated":{"line":1,"column":1030}},{"source":"app.js","name":"length","original":{"line":45,"column":54},"generated":{"line":1,"column":1032}},{"source":"app.js","name":"process","original":{"line":46,"column":19},"generated":{"line":1,"column":1040}},{"source":"app.js","name":"process","original":{"line":46,"column":19},"generated":{"line":1,"column":1047}},{"source":"app.js","name":"env","original":{"line":46,"column":27},"generated":{"line":1,"column":1055}},{"source":"app.js","name":"SITE_LINK","original":{"line":46,"column":31},"generated":{"line":1,"column":1059}},{"source":"app.js","original":{"line":46,"column":43},"generated":{"line":1,"column":1069}},{"source":"app.js","name":"files","original":{"line":46,"column":62},"generated":{"line":1,"column":1086}},{"source":"app.js","name":"randomIndex","original":{"line":46,"column":68},"generated":{"line":1,"column":1088}},{"source":"app.js","name":"dateFormatter","original":{"line":48,"column":8},"generated":{"line":1,"column":1092}},{"source":"app.js","original":{"line":48,"column":23},"generated":{"line":1,"column":1106}},{"source":"app.js","name":"date","original":{"line":48,"column":32},"generated":{"line":1,"column":1115}},{"source":"app.js","original":{"line":49,"column":19},"generated":{"line":1,"column":1118}},{"source":"app.js","original":{"line":49,"column":19},"generated":{"line":1,"column":1125}},{"source":"app.js","name":"date","original":{"line":49,"column":26},"generated":{"line":1,"column":1127}},{"source":"app.js","name":"date","original":{"line":49,"column":26},"generated":{"line":1,"column":1129}},{"source":"app.js","name":"date","original":{"line":49,"column":26},"generated":{"line":1,"column":1138}},{"source":"app.js","name":"format","original":{"line":49,"column":32},"generated":{"line":1,"column":1141}},{"source":"app.js","original":{"line":49,"column":39},"generated":{"line":1,"column":1148}},{"source":"app.js","name":"typeFormatter","original":{"line":51,"column":8},"generated":{"line":1,"column":1155}},{"source":"app.js","original":{"line":51,"column":23},"generated":{"line":1,"column":1169}},{"source":"app.js","name":"data","original":{"line":51,"column":32},"generated":{"line":1,"column":1178}},{"source":"app.js","name":"data","original":{"line":52,"column":16},"generated":{"line":1,"column":1181}},{"source":"app.js","name":"data","original":{"line":52,"column":16},"generated":{"line":1,"column":1188}},{"source":"app.js","name":"startsWith","original":{"line":52,"column":21},"generated":{"line":1,"column":1190}},{"source":"app.js","original":{"line":52,"column":32},"generated":{"line":1,"column":1201}},{"source":"app.js","name":"data","original":{"line":52,"column":47},"generated":{"line":1,"column":1214}},{"source":"app.js","name":"startsWith","original":{"line":52,"column":52},"generated":{"line":1,"column":1216}},{"source":"app.js","original":{"line":52,"column":63},"generated":{"line":1,"column":1227}},{"source":"app.js","name":"data","original":{"line":53,"column":35},"generated":{"line":1,"column":1250}},{"source":"app.js","name":"data","original":{"line":55,"column":23},"generated":{"line":1,"column":1264}},{"source":"app.js","name":"split","original":{"line":55,"column":28},"generated":{"line":1,"column":1266}},{"source":"app.js","name":"process","original":{"line":55,"column":51},"generated":{"line":1,"column":1289}},{"source":"app.js","name":"env","original":{"line":55,"column":59},"generated":{"line":1,"column":1297}},{"source":"app.js","name":"UPLOAD_DESTINATION","original":{"line":55,"column":63},"generated":{"line":1,"column":1301}},{"source":"app.js","original":{"line":55,"column":85},"generated":{"line":1,"column":1323}},{"source":"app.js","name":"split","original":{"line":56,"column":28},"generated":{"line":1,"column":1326}},{"source":"app.js","original":{"line":56,"column":34},"generated":{"line":1,"column":1332}},{"source":"app.js","original":{"line":56,"column":44},"generated":{"line":1,"column":1342}},{"source":"app.js","name":"split","original":{"line":57,"column":28},"generated":{"line":1,"column":1345}},{"source":"app.js","original":{"line":57,"column":34},"generated":{"line":1,"column":1351}},{"source":"app.js","original":{"line":57,"column":39},"generated":{"line":1,"column":1356}},{"source":"app.js","name":"app","original":{"line":62,"column":0},"generated":{"line":1,"column":1364}},{"source":"app.js","name":"set","original":{"line":62,"column":4},"generated":{"line":1,"column":1366}},{"source":"app.js","original":{"line":62,"column":9},"generated":{"line":1,"column":1370}},{"source":"app.js","original":{"line":62,"column":24},"generated":{"line":1,"column":1384}},{"source":"app.js","name":"app","original":{"line":66,"column":0},"generated":{"line":1,"column":1391}},{"source":"app.js","name":"use","original":{"line":66,"column":4},"generated":{"line":1,"column":1393}},{"source":"app.js","name":"express","original":{"line":66,"column":8},"generated":{"line":1,"column":1397}},{"source":"app.js","name":"static","original":{"line":66,"column":16},"generated":{"line":1,"column":1399}},{"source":"app.js","name":"static","original":{"line":66,"column":16},"generated":{"line":1,"column":1407}},{"source":"app.js","name":"path","original":{"line":66,"column":23},"generated":{"line":1,"column":1414}},{"source":"app.js","name":"join","original":{"line":66,"column":28},"generated":{"line":1,"column":1416}},{"source":"app.js","name":"join","original":{"line":66,"column":28},"generated":{"line":1,"column":1424}},{"source":"app.js","name":"__dirname","original":{"line":66,"column":33},"generated":{"line":1,"column":1429}},{"source":"app.js","original":{"line":66,"column":44},"generated":{"line":1,"column":1439}},{"source":"app.js","name":"app","original":{"line":69,"column":0},"generated":{"line":1,"column":1455}},{"source":"app.js","name":"use","original":{"line":69,"column":4},"generated":{"line":1,"column":1457}},{"source":"app.js","name":"bodyParser","original":{"line":69,"column":8},"generated":{"line":1,"column":1461}},{"source":"app.js","name":"urlencoded","original":{"line":69,"column":19},"generated":{"line":1,"column":1463}},{"source":"app.js","name":"urlencoded","original":{"line":69,"column":19},"generated":{"line":1,"column":1471}},{"source":"app.js","original":{"line":69,"column":30},"generated":{"line":1,"column":1482}},{"source":"app.js","name":"extended","original":{"line":69,"column":32},"generated":{"line":1,"column":1483}},{"source":"app.js","original":{"line":69,"column":42},"generated":{"line":1,"column":1493}},{"source":"app.js","name":"app","original":{"line":70,"column":0},"generated":{"line":1,"column":1498}},{"source":"app.js","name":"use","original":{"line":70,"column":4},"generated":{"line":1,"column":1500}},{"source":"app.js","name":"bodyParser","original":{"line":70,"column":8},"generated":{"line":1,"column":1504}},{"source":"app.js","name":"json","original":{"line":70,"column":19},"generated":{"line":1,"column":1506}},{"source":"app.js","name":"json","original":{"line":70,"column":19},"generated":{"line":1,"column":1514}},{"source":"app.js","name":"app","original":{"line":72,"column":0},"generated":{"line":1,"column":1522}},{"source":"app.js","name":"use","original":{"line":72,"column":4},"generated":{"line":1,"column":1524}},{"source":"app.js","original":{"line":72,"column":8},"generated":{"line":1,"column":1529}},{"source":"app.js","original":{"line":72,"column":21},"generated":{"line":1,"column":1531}},{"source":"app.js","original":{"line":72,"column":21},"generated":{"line":1,"column":1533}},{"source":"app.js","original":{"line":72,"column":21},"generated":{"line":1,"column":1542}},{"source":"app.js","name":"app","original":{"line":74,"column":0},"generated":{"line":1,"column":1551}},{"source":"app.js","name":"use","original":{"line":74,"column":4},"generated":{"line":1,"column":1553}},{"source":"app.js","original":{"line":74,"column":8},"generated":{"line":1,"column":1558}},{"source":"app.js","original":{"line":74,"column":22},"generated":{"line":1,"column":1560}},{"source":"app.js","original":{"line":74,"column":22},"generated":{"line":1,"column":1562}},{"source":"app.js","original":{"line":74,"column":22},"generated":{"line":1,"column":1571}},{"source":"app.js","name":"name","original":{"line":75,"column":4},"generated":{"line":1,"column":1572}},{"source":"app.js","original":{"line":75,"column":10},"generated":{"line":1,"column":1577}},{"source":"app.js","name":"secret","original":{"line":76,"column":4},"generated":{"line":1,"column":1587}},{"source":"app.js","original":{"line":76,"column":12},"generated":{"line":1,"column":1594}},{"source":"app.js","name":"maxAge","original":{"line":77,"column":4},"generated":{"line":1,"column":1601}},{"source":"app.js","original":{"line":77,"column":12},"generated":{"line":1,"column":1608}},{"source":"app.js","name":"overwrite","original":{"line":78,"column":4},"generated":{"line":1,"column":1613}},{"source":"app.js","original":{"line":78,"column":15},"generated":{"line":1,"column":1624}},{"source":"app.js","name":"app","original":{"line":81,"column":0},"generated":{"line":1,"column":1629}},{"source":"app.js","name":"use","original":{"line":81,"column":4},"generated":{"line":1,"column":1631}},{"source":"app.js","original":{"line":81,"column":8},"generated":{"line":1,"column":1636}},{"source":"app.js","original":{"line":81,"column":0},"generated":{"line":1,"column":1638}},{"source":"app.js","original":{"line":81,"column":0},"generated":{"line":1,"column":1640}},{"source":"app.js","name":"app","original":{"line":83,"column":0},"generated":{"line":1,"column":1652}},{"source":"app.js","name":"use","original":{"line":83,"column":4},"generated":{"line":1,"column":1654}},{"source":"app.js","name":"passport","original":{"line":83,"column":8},"generated":{"line":1,"column":1658}},{"source":"app.js","name":"initialize","original":{"line":83,"column":17},"generated":{"line":1,"column":1660}},{"source":"app.js","name":"initialize","original":{"line":83,"column":17},"generated":{"line":1,"column":1668}},{"source":"app.js","name":"app","original":{"line":84,"column":0},"generated":{"line":1,"column":1682}},{"source":"app.js","name":"use","original":{"line":84,"column":4},"generated":{"line":1,"column":1684}},{"source":"app.js","name":"passport","original":{"line":84,"column":8},"generated":{"line":1,"column":1688}},{"source":"app.js","name":"session","original":{"line":84,"column":17},"generated":{"line":1,"column":1690}},{"source":"app.js","name":"session","original":{"line":84,"column":17},"generated":{"line":1,"column":1698}},{"source":"app.js","name":"app","original":{"line":86,"column":0},"generated":{"line":1,"column":1709}},{"source":"app.js","name":"locals","original":{"line":86,"column":4},"generated":{"line":1,"column":1711}},{"source":"app.js","name":"siteName","original":{"line":86,"column":11},"generated":{"line":1,"column":1718}},{"source":"app.js","name":"process","original":{"line":86,"column":24},"generated":{"line":1,"column":1727}},{"source":"app.js","name":"env","original":{"line":86,"column":32},"generated":{"line":1,"column":1735}},{"source":"app.js","name":"SITE_NAME","original":{"line":86,"column":36},"generated":{"line":1,"column":1739}},{"source":"app.js","name":"app","original":{"line":87,"column":0},"generated":{"line":1,"column":1749}},{"source":"app.js","name":"locals","original":{"line":87,"column":4},"generated":{"line":1,"column":1751}},{"source":"app.js","name":"uploadLink","original":{"line":87,"column":11},"generated":{"line":1,"column":1758}},{"source":"app.js","name":"process","original":{"line":87,"column":24},"generated":{"line":1,"column":1769}},{"source":"app.js","name":"env","original":{"line":87,"column":32},"generated":{"line":1,"column":1777}},{"source":"app.js","name":"UPLOAD_LINK","original":{"line":87,"column":36},"generated":{"line":1,"column":1781}},{"source":"app.js","name":"app","original":{"line":90,"column":0},"generated":{"line":1,"column":1793}},{"source":"app.js","name":"use","original":{"line":90,"column":4},"generated":{"line":1,"column":1795}},{"source":"app.js","original":{"line":90,"column":8},"generated":{"line":1,"column":1799}},{"source":"app.js","name":"req","original":{"line":90,"column":15},"generated":{"line":1,"column":1805}},{"source":"app.js","name":"res","original":{"line":90,"column":20},"generated":{"line":1,"column":1807}},{"source":"app.js","name":"next","original":{"line":90,"column":25},"generated":{"line":1,"column":1809}},{"source":"app.js","name":"res","original":{"line":91,"column":4},"generated":{"line":1,"column":1814}},{"source":"app.js","name":"locals","original":{"line":91,"column":8},"generated":{"line":1,"column":1816}},{"source":"app.js","name":"user","original":{"line":91,"column":15},"generated":{"line":1,"column":1823}},{"source":"app.js","original":{"line":91,"column":28},"generated":{"line":1,"column":1834}},{"source":"app.js","name":"req","original":{"line":91,"column":43},"generated":{"line":1,"column":1836}},{"source":"app.js","name":"req","original":{"line":91,"column":43},"generated":{"line":1,"column":1838}},{"source":"app.js","name":"req","original":{"line":91,"column":43},"generated":{"line":1,"column":1847}},{"source":"app.js","name":"user","original":{"line":91,"column":47},"generated":{"line":1,"column":1849}},{"source":"app.js","name":"next","original":{"line":92,"column":4},"generated":{"line":1,"column":1855}},{"source":"app.js","name":"app","original":{"line":96,"column":0},"generated":{"line":1,"column":1861}},{"source":"app.js","name":"use","original":{"line":96,"column":4},"generated":{"line":1,"column":1863}},{"source":"app.js","original":{"line":96,"column":8},"generated":{"line":1,"column":1867}},{"source":"app.js","name":"req","original":{"line":96,"column":9},"generated":{"line":1,"column":1868}},{"source":"app.js","name":"res","original":{"line":96,"column":14},"generated":{"line":1,"column":1870}},{"source":"app.js","name":"next","original":{"line":96,"column":19},"generated":{"line":1,"column":1872}},{"source":"app.js","name":"req","original":{"line":97,"column":8},"generated":{"line":1,"column":1877}},{"source":"app.js","name":"session","original":{"line":97,"column":12},"generated":{"line":1,"column":1879}},{"source":"app.js","name":"err","original":{"line":97,"column":20},"generated":{"line":1,"column":1887}},{"source":"app.js","name":"res","original":{"line":98,"column":8},"generated":{"line":1,"column":1893}},{"source":"app.js","name":"locals","original":{"line":98,"column":12},"generated":{"line":1,"column":1895}},{"source":"app.js","name":"errors","original":{"line":98,"column":19},"generated":{"line":1,"column":1902}},{"source":"app.js","original":{"line":98,"column":28},"generated":{"line":1,"column":1910}},{"source":"app.js","name":"req","original":{"line":98,"column":42},"generated":{"line":1,"column":1912}},{"source":"app.js","name":"req","original":{"line":98,"column":42},"generated":{"line":1,"column":1914}},{"source":"app.js","name":"req","original":{"line":98,"column":42},"generated":{"line":1,"column":1923}},{"source":"app.js","name":"session","original":{"line":98,"column":46},"generated":{"line":1,"column":1925}},{"source":"app.js","name":"err","original":{"line":98,"column":54},"generated":{"line":1,"column":1933}},{"source":"app.js","name":"req","original":{"line":99,"column":15},"generated":{"line":1,"column":1945}},{"source":"app.js","name":"session","original":{"line":99,"column":19},"generated":{"line":1,"column":1947}},{"source":"app.js","name":"err","original":{"line":99,"column":27},"generated":{"line":1,"column":1955}},{"source":"app.js","name":"req","original":{"line":102,"column":8},"generated":{"line":1,"column":1960}},{"source":"app.js","name":"session","original":{"line":102,"column":12},"generated":{"line":1,"column":1962}},{"source":"app.js","name":"flash","original":{"line":102,"column":20},"generated":{"line":1,"column":1970}},{"source":"app.js","name":"res","original":{"line":103,"column":8},"generated":{"line":1,"column":1978}},{"source":"app.js","name":"locals","original":{"line":103,"column":12},"generated":{"line":1,"column":1980}},{"source":"app.js","name":"message","original":{"line":103,"column":19},"generated":{"line":1,"column":1987}},{"source":"app.js","name":"req","original":{"line":103,"column":29},"generated":{"line":1,"column":1995}},{"source":"app.js","name":"session","original":{"line":103,"column":33},"generated":{"line":1,"column":1997}},{"source":"app.js","name":"flash","original":{"line":103,"column":41},"generated":{"line":1,"column":2005}},{"source":"app.js","name":"req","original":{"line":104,"column":15},"generated":{"line":1,"column":2018}},{"source":"app.js","name":"session","original":{"line":104,"column":19},"generated":{"line":1,"column":2020}},{"source":"app.js","name":"flash","original":{"line":104,"column":27},"generated":{"line":1,"column":2028}},{"source":"app.js","name":"next","original":{"line":106,"column":4},"generated":{"line":1,"column":2035}},{"source":"app.js","name":"app","original":{"line":110,"column":0},"generated":{"line":1,"column":2041}},{"source":"app.js","name":"use","original":{"line":110,"column":4},"generated":{"line":1,"column":2043}},{"source":"app.js","original":{"line":110,"column":8},"generated":{"line":1,"column":2047}},{"source":"app.js","name":"index","original":{"line":110,"column":23},"generated":{"line":1,"column":2051}},{"source":"app.js","original":{"line":110,"column":0},"generated":{"line":1,"column":2053}},{"source":"app.js","name":"app","original":{"line":111,"column":0},"generated":{"line":1,"column":2062}},{"source":"app.js","name":"use","original":{"line":111,"column":4},"generated":{"line":1,"column":2064}},{"source":"app.js","original":{"line":111,"column":8},"generated":{"line":1,"column":2068}},{"source":"app.js","name":"login","original":{"line":111,"column":23},"generated":{"line":1,"column":2077}},{"source":"app.js","original":{"line":111,"column":0},"generated":{"line":1,"column":2079}},{"source":"app.js","name":"app","original":{"line":112,"column":0},"generated":{"line":1,"column":2088}},{"source":"app.js","name":"use","original":{"line":112,"column":4},"generated":{"line":1,"column":2090}},{"source":"app.js","original":{"line":112,"column":8},"generated":{"line":1,"column":2094}},{"source":"app.js","name":"upload","original":{"line":112,"column":23},"generated":{"line":1,"column":2104}},{"source":"app.js","original":{"line":112,"column":0},"generated":{"line":1,"column":2106}},{"source":"app.js","name":"app","original":{"line":113,"column":0},"generated":{"line":1,"column":2115}},{"source":"app.js","name":"use","original":{"line":113,"column":4},"generated":{"line":1,"column":2117}},{"source":"app.js","original":{"line":113,"column":8},"generated":{"line":1,"column":2121}},{"source":"app.js","name":"user","original":{"line":113,"column":23},"generated":{"line":1,"column":2129}},{"source":"app.js","original":{"line":113,"column":0},"generated":{"line":1,"column":2131}},{"source":"app.js","name":"app","original":{"line":114,"column":0},"generated":{"line":1,"column":2140}},{"source":"app.js","name":"use","original":{"line":114,"column":4},"generated":{"line":1,"column":2142}},{"source":"app.js","original":{"line":114,"column":8},"generated":{"line":1,"column":2146}},{"source":"app.js","name":"register","original":{"line":114,"column":23},"generated":{"line":1,"column":2158}},{"source":"app.js","original":{"line":114,"column":0},"generated":{"line":1,"column":2160}},{"source":"app.js","name":"app","original":{"line":115,"column":0},"generated":{"line":1,"column":2169}},{"source":"app.js","name":"use","original":{"line":115,"column":4},"generated":{"line":1,"column":2171}},{"source":"app.js","original":{"line":115,"column":8},"generated":{"line":1,"column":2175}},{"source":"app.js","name":"deleter","original":{"line":115,"column":23},"generated":{"line":1,"column":2185}},{"source":"app.js","original":{"line":115,"column":0},"generated":{"line":1,"column":2187}},{"source":"app.js","name":"app","original":{"line":116,"column":0},"generated":{"line":1,"column":2196}},{"source":"app.js","name":"use","original":{"line":116,"column":4},"generated":{"line":1,"column":2198}},{"source":"app.js","original":{"line":116,"column":8},"generated":{"line":1,"column":2202}},{"source":"app.js","name":"admin","original":{"line":116,"column":23},"generated":{"line":1,"column":2216}},{"source":"app.js","original":{"line":116,"column":0},"generated":{"line":1,"column":2218}},{"source":"app.js","name":"app","original":{"line":119,"column":0},"generated":{"line":1,"column":2227}},{"source":"app.js","name":"use","original":{"line":119,"column":4},"generated":{"line":1,"column":2229}},{"source":"app.js","original":{"line":119,"column":8},"generated":{"line":1,"column":2233}},{"source":"app.js","name":"req","original":{"line":119,"column":9},"generated":{"line":1,"column":2234}},{"source":"app.js","name":"res","original":{"line":119,"column":14},"generated":{"line":1,"column":2236}},{"source":"app.js","name":"next","original":{"line":119,"column":19},"generated":{"line":1,"column":2238}},{"source":"app.js","name":"res","original":{"line":120,"column":4},"generated":{"line":1,"column":2243}},{"source":"app.js","name":"status","original":{"line":120,"column":8},"generated":{"line":1,"column":2245}},{"source":"app.js","original":{"line":120,"column":15},"generated":{"line":1,"column":2252}},{"source":"app.js","name":"render","original":{"line":121,"column":8},"generated":{"line":1,"column":2257}},{"source":"app.js","original":{"line":121,"column":15},"generated":{"line":1,"column":2264}},{"source":"app.js","name":"fs","original":{"line":124,"column":5},"generated":{"line":1,"column":2273}},{"source":"app.js","name":"existsSync","original":{"line":124,"column":8},"generated":{"line":1,"column":2275}},{"source":"app.js","name":"existsSync","original":{"line":124,"column":8},"generated":{"line":1,"column":2283}},{"source":"app.js","name":"process","original":{"line":124,"column":19},"generated":{"line":1,"column":2294}},{"source":"app.js","name":"env","original":{"line":124,"column":27},"generated":{"line":1,"column":2302}},{"source":"app.js","name":"UPLOAD_DESTINATION","original":{"line":124,"column":31},"generated":{"line":1,"column":2306}},{"source":"app.js","name":"console","original":{"line":125,"column":4},"generated":{"line":1,"column":2328}},{"source":"app.js","name":"error","original":{"line":125,"column":12},"generated":{"line":1,"column":2336}},{"source":"app.js","name":"process","original":{"line":125,"column":57},"generated":{"line":1,"column":2381}},{"source":"app.js","name":"env","original":{"line":125,"column":65},"generated":{"line":1,"column":2389}},{"source":"app.js","name":"UPLOAD_DESTINATION","original":{"line":125,"column":69},"generated":{"line":1,"column":2393}},{"source":"app.js","name":"console","original":{"line":126,"column":4},"generated":{"line":1,"column":2415}},{"source":"app.js","name":"error","original":{"line":126,"column":12},"generated":{"line":1,"column":2423}},{"source":"app.js","original":{"line":126,"column":19},"generated":{"line":1,"column":2429}},{"source":"app.js","name":"process","original":{"line":127,"column":4},"generated":{"line":1,"column":2503}},{"source":"app.js","name":"exit","original":{"line":127,"column":12},"generated":{"line":1,"column":2511}},{"source":"app.js","original":{"line":127,"column":17},"generated":{"line":1,"column":2516}},{"source":"app.js","name":"app","original":{"line":131,"column":0},"generated":{"line":1,"column":2520}},{"source":"app.js","name":"listen","original":{"line":131,"column":4},"generated":{"line":1,"column":2522}},{"source":"app.js","name":"parseInt","original":{"line":131,"column":11},"generated":{"line":1,"column":2529}},{"source":"app.js","name":"process","original":{"line":131,"column":20},"generated":{"line":1,"column":2538}},{"source":"app.js","name":"env","original":{"line":131,"column":28},"generated":{"line":1,"column":2546}},{"source":"app.js","name":"SITE_PORT","original":{"line":131,"column":32},"generated":{"line":1,"column":2550}},{"source":"app.js","original":{"line":131,"column":44},"generated":{"line":1,"column":2561}},{"source":"app.js","name":"console","original":{"line":131,"column":50},"generated":{"line":1,"column":2565}},{"source":"app.js","name":"log","original":{"line":131,"column":58},"generated":{"line":1,"column":2573}},{"source":"app.js","original":{"line":131,"column":62},"generated":{"line":1,"column":2577}}],"sources":{"app.js":"\"use strict\";\r\nrequire('dotenv').config();\r\n\r\nimport express       from \"express\";\r\nimport handlebars     from \"express-handlebars\";\r\nimport path           from 'path';\r\nimport flash          from \"express-flash\";\r\nimport cookieSession  from \"cookie-session\";\r\nimport bodyParser     from \"body-parser\";\r\nimport cookieParser   from \"cookie-parser\";\r\nimport frontEndError  from \"./helpers/frontendErrorFormatter\";\r\nimport getUserDetails from './Functions/User/getUserDetails';\r\nimport fs             from \"fs\";\r\nimport passport       from \"./helpers/passport\";\r\nimport moment         from \"moment\"; \r\n\r\n// Routers\r\nimport index    from \"./Routes\";\r\nimport login    from \"./Routes/login\";\r\nimport upload   from \"./Routes/upload\";\r\nimport user     from \"./Routes/user\";\r\nimport register from \"./Routes/register\";\r\nimport deleter  from \"./Routes/delete\"; // God damn reserved keywords\r\nimport admin    from \"./Routes/admin\";\r\n\r\nconst randomNumber  = (x, y) =>  Math.floor((Math.random() * y) + x); \r\n\r\nconst app = express();\r\n\r\n// Load views\r\napp.engine (\"hbs\", handlebars ({ \r\n    defaultLayout: __dirname + \"/../views/main\",\r\n    extname: \"hbs\",\r\n    partialsDir: __dirname + \"/../views/partials/\",\r\n    helpers: {\r\n        partial: function (name) {\r\n            return name;\r\n        },\r\n        waifu: () => {\r\n            const files = fs.readdirSync(__dirname + \"/../Public/Images/Waifus\");\r\n            \r\n            if (files.length === 0)\r\n                return \"\";\r\n\r\n            const randomIndex = randomNumber(0, files.length);\r\n            return process.env.SITE_LINK + \"Images/Waifus/\" + files[randomIndex];\r\n        },\r\n        dateFormatter: function(date) {\r\n            return moment(date).format(\"LL\");\r\n        }, \r\n        typeFormatter: function(data) {\r\n            if (data.startsWith(\"https://\") || data.startsWith(\"http://\")) {\r\n                return `<a href=\"${data}\">Link</a>`;\r\n            } else {\r\n                return data.split(`found in file ${process.env.UPLOAD_DESTINATION}`)[0]\r\n                           .split(\"Virus \")[1]\r\n                           .split(\"'\")[1]\r\n            }\r\n        }\r\n    }\r\n}));\r\napp.set (\"view engine\", \"hbs\");\r\n// app.set('views', path.join(__dirname, \"Views\"));\r\n// app.enable('view cache');\r\n// Static files\r\napp.use(express.static(path.join(__dirname, \"/../Public\")));\r\n\r\n// parse various different custom JSON types as JSON\r\napp.use(bodyParser.urlencoded({ extended: true }));\r\napp.use(bodyParser.json());\r\n\r\napp.use(cookieParser(\"lewd\"));\r\n\r\napp.use(cookieSession({\r\n    name: \"session\",\r\n    secret: \"lewd\",\r\n    maxAge: 30 * 60 * 1000,\r\n    overwrite: false\r\n}));\r\n\r\napp.use(flash());\r\n\r\napp.use(passport.initialize());\r\napp.use(passport.session());\r\n\r\napp.locals.siteName   = process.env.SITE_NAME;\r\napp.locals.uploadLink = process.env.UPLOAD_LINK;\r\n\r\n// Set local user\r\napp.use(async (req, res, next) => {\r\n    res.locals.user = await getUserDetails(req.user);\r\n    next();\r\n});\r\n\r\n// Set errors (if any)\r\napp.use((req, res, next) => {\r\n    if (req.session.err){\r\n        res.locals.errors = frontEndError(req.session.err);\r\n        delete req.session.err;\r\n    }\r\n\r\n    if (req.session.flash) {\r\n        res.locals.message = req.session.flash;\r\n        delete req.session.flash;\r\n    }\r\n    next()\r\n});\r\n\r\n// Set the routes\r\napp.use(\"/\",           index);\r\napp.use(\"/login\",      login);\r\napp.use(\"/upload\",     upload);\r\napp.use(\"/user\",       user);\r\napp.use(\"/register\",   register);\r\napp.use(\"/delete\",     deleter);\r\napp.use(\"/user/admin\", admin)\r\n\r\n// 404\r\napp.use((req, res, next) =>{\r\n    res.status(404)\r\n       .render(\"404\");\r\n});\r\n\r\nif (!fs.existsSync(process.env.UPLOAD_DESTINATION)) {\r\n    console.error(`Could not open upload directory at: ${process.env.UPLOAD_DESTINATION}`);\r\n    console.error(`Try checking if the UPLOAD_DESTINATION environment variable is correct`);\r\n    process.exit(1);\r\n}\r\n\r\n\r\napp.listen(parseInt(process.env.SITE_PORT), () => console.log(\"It's up and running :3\"));"},"lineCount":null}},"hash":"9cf6cbee8777ea4e37b08b9c184ac563","cacheData":{"env":{}}}