{"id":"AD7K","dependencies":[{"name":"C:\\Users\\inaba\\Programming\\Lewd2\\.babelrc","includedInParent":true,"mtime":1545517173655},{"name":"C:\\Users\\inaba\\Programming\\Lewd2\\package.json","includedInParent":true,"mtime":1545850952595},{"name":"../../helpers/database","loc":{"line":1,"column":15},"parent":"C:\\Users\\inaba\\Programming\\Lewd2\\src\\Functions\\Upload\\getImageFilenameIfExists.js","resolved":"C:\\Users\\inaba\\Programming\\Lewd2\\src\\helpers\\database.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=a(require(\"../../helpers/database\"));function a(e){return e&&e.__esModule?e:{default:e}}const t=async a=>{const t=await e.default.connect(),r=await t.query('SELECT filename FROM \"Uploads\" \\n                                          WHERE filesha = $1 \\n                                            AND deleted = FALSE \\n                                            AND duplicate = false;',[a]);return await t.release(),r.rows[0]?r.rows[0].filename:null};var r=t;exports.default=r;","map":{"mappings":[{"source":"Functions/Upload/getImageFilenameIfExists.js","name":"getImageFilenameIfExists","original":{"line":20,"column":15},"generated":{"line":1,"column":0}},{"source":"Functions/Upload/getImageFilenameIfExists.js","name":"getImageFilenameIfExists","original":{"line":20,"column":15},"generated":{"line":1,"column":13}},{"source":"Functions/Upload/getImageFilenameIfExists.js","name":"getImageFilenameIfExists","original":{"line":20,"column":15},"generated":{"line":1,"column":20}},{"source":"Functions/Upload/getImageFilenameIfExists.js","name":"getImageFilenameIfExists","original":{"line":20,"column":15},"generated":{"line":1,"column":35}},{"source":"Functions/Upload/getImageFilenameIfExists.js","name":"getImageFilenameIfExists","original":{"line":20,"column":15},"generated":{"line":1,"column":43}},{"source":"Functions/Upload/getImageFilenameIfExists.js","name":"getImageFilenameIfExists","original":{"line":20,"column":15},"generated":{"line":1,"column":56}},{"source":"Functions/Upload/getImageFilenameIfExists.js","name":"getImageFilenameIfExists","original":{"line":20,"column":15},"generated":{"line":1,"column":57}},{"source":"Functions/Upload/getImageFilenameIfExists.js","name":"getImageFilenameIfExists","original":{"line":20,"column":15},"generated":{"line":1,"column":64}},{"source":"Functions/Upload/getImageFilenameIfExists.js","name":"getImageFilenameIfExists","original":{"line":20,"column":15},"generated":{"line":1,"column":68}},{"source":"Functions/Upload/getImageFilenameIfExists.js","name":"getImageFilenameIfExists","original":{"line":20,"column":15},"generated":{"line":1,"column":76}},{"source":"Functions/Upload/getImageFilenameIfExists.js","name":"getImageFilenameIfExists","original":{"line":20,"column":15},"generated":{"line":1,"column":89}},{"source":"Functions/Upload/getImageFilenameIfExists.js","original":{"line":1,"column":0},"generated":{"line":1,"column":91}},{"source":"Functions/Upload/getImageFilenameIfExists.js","original":{"line":1,"column":0},"generated":{"line":1,"column":95}},{"source":"Functions/Upload/getImageFilenameIfExists.js","original":{"line":1,"column":0},"generated":{"line":1,"column":97}},{"source":"Functions/Upload/getImageFilenameIfExists.js","original":{"line":1,"column":0},"generated":{"line":1,"column":99}},{"source":"Functions/Upload/getImageFilenameIfExists.js","original":{"line":1,"column":0},"generated":{"line":1,"column":107}},{"source":"Functions/Upload/getImageFilenameIfExists.js","name":"getImageFilenameIfExists","original":{"line":20,"column":15},"generated":{"line":1,"column":134}},{"source":"Functions/Upload/getImageFilenameIfExists.js","name":"getImageFilenameIfExists","original":{"line":20,"column":15},"generated":{"line":1,"column":143}},{"source":"Functions/Upload/getImageFilenameIfExists.js","name":"getImageFilenameIfExists","original":{"line":20,"column":15},"generated":{"line":1,"column":145}},{"source":"Functions/Upload/getImageFilenameIfExists.js","name":"getImageFilenameIfExists","original":{"line":20,"column":15},"generated":{"line":1,"column":148}},{"source":"Functions/Upload/getImageFilenameIfExists.js","name":"getImageFilenameIfExists","original":{"line":20,"column":15},"generated":{"line":1,"column":155}},{"source":"Functions/Upload/getImageFilenameIfExists.js","name":"getImageFilenameIfExists","original":{"line":20,"column":15},"generated":{"line":1,"column":158}},{"source":"Functions/Upload/getImageFilenameIfExists.js","name":"getImageFilenameIfExists","original":{"line":20,"column":15},"generated":{"line":1,"column":160}},{"source":"Functions/Upload/getImageFilenameIfExists.js","name":"getImageFilenameIfExists","original":{"line":20,"column":15},"generated":{"line":1,"column":171}},{"source":"Functions/Upload/getImageFilenameIfExists.js","name":"getImageFilenameIfExists","original":{"line":20,"column":15},"generated":{"line":1,"column":173}},{"source":"Functions/Upload/getImageFilenameIfExists.js","name":"getImageFilenameIfExists","original":{"line":20,"column":15},"generated":{"line":1,"column":174}},{"source":"Functions/Upload/getImageFilenameIfExists.js","name":"getImageFilenameIfExists","original":{"line":20,"column":15},"generated":{"line":1,"column":182}},{"source":"Functions/Upload/getImageFilenameIfExists.js","original":{"line":8,"column":0},"generated":{"line":1,"column":185}},{"source":"Functions/Upload/getImageFilenameIfExists.js","name":"getImageFilenameIfExists","original":{"line":8,"column":6},"generated":{"line":1,"column":191}},{"source":"Functions/Upload/getImageFilenameIfExists.js","original":{"line":8,"column":33},"generated":{"line":1,"column":193}},{"source":"Functions/Upload/getImageFilenameIfExists.js","original":{"line":8,"column":33},"generated":{"line":1,"column":199}},{"source":"Functions/Upload/getImageFilenameIfExists.js","name":"client","original":{"line":9,"column":10},"generated":{"line":1,"column":203}},{"source":"Functions/Upload/getImageFilenameIfExists.js","name":"client","original":{"line":9,"column":10},"generated":{"line":1,"column":209}},{"source":"Functions/Upload/getImageFilenameIfExists.js","name":"db","original":{"line":9,"column":28},"generated":{"line":1,"column":217}},{"source":"Functions/Upload/getImageFilenameIfExists.js","name":"connect","original":{"line":9,"column":31},"generated":{"line":1,"column":219}},{"source":"Functions/Upload/getImageFilenameIfExists.js","name":"connect","original":{"line":9,"column":31},"generated":{"line":1,"column":227}},{"source":"Functions/Upload/getImageFilenameIfExists.js","name":"checkFile","original":{"line":10,"column":10},"generated":{"line":1,"column":237}},{"source":"Functions/Upload/getImageFilenameIfExists.js","name":"client","original":{"line":10,"column":28},"generated":{"line":1,"column":245}},{"source":"Functions/Upload/getImageFilenameIfExists.js","name":"query","original":{"line":10,"column":35},"generated":{"line":1,"column":247}},{"source":"Functions/Upload/getImageFilenameIfExists.js","original":{"line":10,"column":42},"generated":{"line":1,"column":253}},{"source":"Functions/Upload/getImageFilenameIfExists.js","original":{"line":13,"column":69},"generated":{"line":1,"column":484}},{"source":"Functions/Upload/getImageFilenameIfExists.js","name":"fileSha","original":{"line":13,"column":70},"generated":{"line":1,"column":485}},{"source":"Functions/Upload/getImageFilenameIfExists.js","name":"checkFile","original":{"line":16,"column":12},"generated":{"line":1,"column":489}},{"source":"Functions/Upload/getImageFilenameIfExists.js","name":"client","original":{"line":14,"column":28},"generated":{"line":1,"column":502}},{"source":"Functions/Upload/getImageFilenameIfExists.js","name":"release","original":{"line":14,"column":35},"generated":{"line":1,"column":504}},{"source":"Functions/Upload/getImageFilenameIfExists.js","name":"checkFile","original":{"line":16,"column":12},"generated":{"line":1,"column":514}},{"source":"Functions/Upload/getImageFilenameIfExists.js","name":"rows","original":{"line":16,"column":22},"generated":{"line":1,"column":516}},{"source":"Functions/Upload/getImageFilenameIfExists.js","original":{"line":16,"column":27},"generated":{"line":1,"column":521}},{"source":"Functions/Upload/getImageFilenameIfExists.js","name":"checkFile","original":{"line":16,"column":33},"generated":{"line":1,"column":524}},{"source":"Functions/Upload/getImageFilenameIfExists.js","name":"rows","original":{"line":16,"column":43},"generated":{"line":1,"column":526}},{"source":"Functions/Upload/getImageFilenameIfExists.js","original":{"line":16,"column":48},"generated":{"line":1,"column":531}},{"source":"Functions/Upload/getImageFilenameIfExists.js","name":"filename","original":{"line":16,"column":51},"generated":{"line":1,"column":534}},{"source":"Functions/Upload/getImageFilenameIfExists.js","original":{"line":17,"column":33},"generated":{"line":1,"column":543}},{"source":"Functions/Upload/getImageFilenameIfExists.js","name":"getImageFilenameIfExists","original":{"line":20,"column":15},"generated":{"line":1,"column":549}},{"source":"Functions/Upload/getImageFilenameIfExists.js","name":"getImageFilenameIfExists","original":{"line":20,"column":15},"generated":{"line":1,"column":553}},{"source":"Functions/Upload/getImageFilenameIfExists.js","name":"getImageFilenameIfExists","original":{"line":20,"column":15},"generated":{"line":1,"column":555}},{"source":"Functions/Upload/getImageFilenameIfExists.js","name":"getImageFilenameIfExists","original":{"line":20,"column":15},"generated":{"line":1,"column":557}},{"source":"Functions/Upload/getImageFilenameIfExists.js","name":"getImageFilenameIfExists","original":{"line":20,"column":15},"generated":{"line":1,"column":565}},{"source":"Functions/Upload/getImageFilenameIfExists.js","name":"getImageFilenameIfExists","original":{"line":20,"column":15},"generated":{"line":1,"column":573}}],"sources":{"Functions/Upload/getImageFilenameIfExists.js":"import db from \"../../helpers/database\";\r\n\r\n/**\r\n * Does your laundry\r\n * @param {string} fileSha sha representation of the file\r\n * @returns {string} Your laundry if it exists, or null if it doesn't\r\n */\r\nconst getImageFilenameIfExists = async fileSha => {\r\n    const client    = await db.connect();\r\n    const checkFile = await client.query(`SELECT filename FROM \"Uploads\" \r\n                                          WHERE filesha = $1 \r\n                                            AND deleted = FALSE \r\n                                            AND duplicate = false;`, [fileSha]);\r\n                      await client.release();\r\n\r\n    return (checkFile.rows[0]) ? checkFile.rows[0].filename \r\n                               : null;\r\n};\r\n\r\nexport default getImageFilenameIfExists;"},"lineCount":null}},"hash":"6858a68ab6ce4748276a10c6a3ab2f1c","cacheData":{"env":{}}}