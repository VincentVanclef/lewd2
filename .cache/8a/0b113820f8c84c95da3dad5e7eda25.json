{"id":"ufof","dependencies":[{"name":"C:\\Users\\inaba\\Programming\\Lewd2\\.babelrc","includedInParent":true,"mtime":1545517173655},{"name":"C:\\Users\\inaba\\Programming\\Lewd2\\package.json","includedInParent":true,"mtime":1545850952595},{"name":"../Controllers/admin","loc":{"line":2,"column":23},"parent":"C:\\Users\\inaba\\Programming\\Lewd2\\src\\Routes\\admin.js","resolved":"C:\\Users\\inaba\\Programming\\Lewd2\\src\\Controllers\\admin.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=s(require(\"express\")),t=r(require(\"../Controllers/admin\"));function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var s=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};s.get||s.set?Object.defineProperty(t,r,s):t[r]=e[r]}return t.default=e,t}function s(e){return e&&e.__esModule?e:{default:e}}const o=e.default.Router();o.use((e,t,r)=>t.locals.user.isadmin?r():t.render(\"login\")),o.get(\"/token\",t.token.get),o.post(\"/token\",t.token.validate,t.token.post),o.get(\"/reset-password\",t.resetPassword.get),o.post(\"/generate-reset-link\",t.resetPassword.validate,t.resetPassword.post),o.get(\"/view-users\",t.deleteUsers.get),o.post(\"/delete\",t.deleteUsers.validate,t.deleteUsers.post),o.get(\"/remove-files\",t.deleteFiles.get),o.post(\"/remove-files\",t.deleteFiles.post);var l=o;exports.default=l;","map":{"mappings":[{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":0}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":13}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":20}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":35}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":43}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":56}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":57}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":64}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":68}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":76}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":89}},{"source":"Routes/admin.js","original":{"line":1,"column":0},"generated":{"line":1,"column":91}},{"source":"Routes/admin.js","original":{"line":1,"column":0},"generated":{"line":1,"column":95}},{"source":"Routes/admin.js","original":{"line":1,"column":0},"generated":{"line":1,"column":97}},{"source":"Routes/admin.js","original":{"line":1,"column":0},"generated":{"line":1,"column":99}},{"source":"Routes/admin.js","original":{"line":1,"column":0},"generated":{"line":1,"column":107}},{"source":"Routes/admin.js","original":{"line":2,"column":0},"generated":{"line":1,"column":119}},{"source":"Routes/admin.js","original":{"line":2,"column":0},"generated":{"line":1,"column":121}},{"source":"Routes/admin.js","original":{"line":2,"column":0},"generated":{"line":1,"column":123}},{"source":"Routes/admin.js","original":{"line":2,"column":0},"generated":{"line":1,"column":131}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":156}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":165}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":167}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":170}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":173}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":176}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":178}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":189}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":196}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":198}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":202}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":204}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":207}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":210}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":216}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":218}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":222}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":226}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":231}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":233}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":236}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":243}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":253}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":268}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":273}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":275}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":278}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":279}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":283}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":285}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":292}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":308}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":315}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":340}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":347}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":372}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":374}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":377}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":380}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":382}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":387}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":389}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":393}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":400}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":415}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":417}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":419}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":422}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":424}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":427}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":429}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":432}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":439}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":441}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":449}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":451}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":453}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":462}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":464}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":467}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":474}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":477}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":479}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":490}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":492}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":493}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":501}},{"source":"Routes/admin.js","original":{"line":4,"column":0},"generated":{"line":1,"column":504}},{"source":"Routes/admin.js","name":"router","original":{"line":4,"column":6},"generated":{"line":1,"column":510}},{"source":"Routes/admin.js","name":"express","original":{"line":4,"column":15},"generated":{"line":1,"column":512}},{"source":"Routes/admin.js","name":"Router","original":{"line":4,"column":23},"generated":{"line":1,"column":514}},{"source":"Routes/admin.js","name":"Router","original":{"line":4,"column":23},"generated":{"line":1,"column":522}},{"source":"Routes/admin.js","name":"router","original":{"line":12,"column":0},"generated":{"line":1,"column":531}},{"source":"Routes/admin.js","name":"use","original":{"line":12,"column":7},"generated":{"line":1,"column":533}},{"source":"Routes/admin.js","original":{"line":12,"column":11},"generated":{"line":1,"column":537}},{"source":"Routes/admin.js","name":"req","original":{"line":12,"column":12},"generated":{"line":1,"column":538}},{"source":"Routes/admin.js","name":"res","original":{"line":12,"column":17},"generated":{"line":1,"column":540}},{"source":"Routes/admin.js","name":"next","original":{"line":12,"column":22},"generated":{"line":1,"column":542}},{"source":"Routes/admin.js","name":"res","original":{"line":13,"column":8},"generated":{"line":1,"column":546}},{"source":"Routes/admin.js","name":"locals","original":{"line":13,"column":12},"generated":{"line":1,"column":548}},{"source":"Routes/admin.js","name":"user","original":{"line":13,"column":19},"generated":{"line":1,"column":555}},{"source":"Routes/admin.js","name":"isadmin","original":{"line":13,"column":24},"generated":{"line":1,"column":560}},{"source":"Routes/admin.js","name":"next","original":{"line":14,"column":15},"generated":{"line":1,"column":568}},{"source":"Routes/admin.js","name":"res","original":{"line":16,"column":11},"generated":{"line":1,"column":572}},{"source":"Routes/admin.js","name":"render","original":{"line":16,"column":15},"generated":{"line":1,"column":574}},{"source":"Routes/admin.js","original":{"line":16,"column":22},"generated":{"line":1,"column":581}},{"source":"Routes/admin.js","name":"router","original":{"line":23,"column":0},"generated":{"line":1,"column":591}},{"source":"Routes/admin.js","name":"get","original":{"line":23,"column":7},"generated":{"line":1,"column":593}},{"source":"Routes/admin.js","original":{"line":23,"column":11},"generated":{"line":1,"column":597}},{"source":"Routes/admin.js","name":"admin","original":{"line":23,"column":22},"generated":{"line":1,"column":606}},{"source":"Routes/admin.js","name":"token","original":{"line":23,"column":28},"generated":{"line":1,"column":608}},{"source":"Routes/admin.js","name":"get","original":{"line":23,"column":34},"generated":{"line":1,"column":614}},{"source":"Routes/admin.js","name":"router","original":{"line":24,"column":0},"generated":{"line":1,"column":619}},{"source":"Routes/admin.js","name":"post","original":{"line":24,"column":7},"generated":{"line":1,"column":621}},{"source":"Routes/admin.js","original":{"line":24,"column":12},"generated":{"line":1,"column":626}},{"source":"Routes/admin.js","name":"admin","original":{"line":24,"column":22},"generated":{"line":1,"column":635}},{"source":"Routes/admin.js","name":"token","original":{"line":24,"column":28},"generated":{"line":1,"column":637}},{"source":"Routes/admin.js","name":"validate","original":{"line":24,"column":34},"generated":{"line":1,"column":643}},{"source":"Routes/admin.js","name":"admin","original":{"line":25,"column":22},"generated":{"line":1,"column":652}},{"source":"Routes/admin.js","name":"token","original":{"line":25,"column":28},"generated":{"line":1,"column":654}},{"source":"Routes/admin.js","name":"post","original":{"line":25,"column":34},"generated":{"line":1,"column":660}},{"source":"Routes/admin.js","name":"router","original":{"line":30,"column":0},"generated":{"line":1,"column":666}},{"source":"Routes/admin.js","name":"get","original":{"line":30,"column":7},"generated":{"line":1,"column":668}},{"source":"Routes/admin.js","original":{"line":30,"column":11},"generated":{"line":1,"column":672}},{"source":"Routes/admin.js","name":"admin","original":{"line":30,"column":36},"generated":{"line":1,"column":690}},{"source":"Routes/admin.js","name":"resetPassword","original":{"line":30,"column":42},"generated":{"line":1,"column":692}},{"source":"Routes/admin.js","name":"get","original":{"line":30,"column":56},"generated":{"line":1,"column":706}},{"source":"Routes/admin.js","name":"router","original":{"line":31,"column":0},"generated":{"line":1,"column":711}},{"source":"Routes/admin.js","name":"post","original":{"line":31,"column":7},"generated":{"line":1,"column":713}},{"source":"Routes/admin.js","original":{"line":31,"column":12},"generated":{"line":1,"column":718}},{"source":"Routes/admin.js","name":"admin","original":{"line":31,"column":36},"generated":{"line":1,"column":741}},{"source":"Routes/admin.js","name":"resetPassword","original":{"line":31,"column":42},"generated":{"line":1,"column":743}},{"source":"Routes/admin.js","name":"validate","original":{"line":31,"column":56},"generated":{"line":1,"column":757}},{"source":"Routes/admin.js","name":"admin","original":{"line":32,"column":36},"generated":{"line":1,"column":766}},{"source":"Routes/admin.js","name":"resetPassword","original":{"line":32,"column":42},"generated":{"line":1,"column":768}},{"source":"Routes/admin.js","name":"post","original":{"line":32,"column":56},"generated":{"line":1,"column":782}},{"source":"Routes/admin.js","name":"router","original":{"line":37,"column":0},"generated":{"line":1,"column":788}},{"source":"Routes/admin.js","name":"get","original":{"line":37,"column":7},"generated":{"line":1,"column":790}},{"source":"Routes/admin.js","original":{"line":37,"column":11},"generated":{"line":1,"column":794}},{"source":"Routes/admin.js","name":"admin","original":{"line":37,"column":26},"generated":{"line":1,"column":808}},{"source":"Routes/admin.js","name":"deleteUsers","original":{"line":37,"column":32},"generated":{"line":1,"column":810}},{"source":"Routes/admin.js","name":"get","original":{"line":37,"column":44},"generated":{"line":1,"column":822}},{"source":"Routes/admin.js","name":"router","original":{"line":38,"column":0},"generated":{"line":1,"column":827}},{"source":"Routes/admin.js","name":"post","original":{"line":38,"column":7},"generated":{"line":1,"column":829}},{"source":"Routes/admin.js","original":{"line":38,"column":12},"generated":{"line":1,"column":834}},{"source":"Routes/admin.js","name":"admin","original":{"line":38,"column":26},"generated":{"line":1,"column":844}},{"source":"Routes/admin.js","name":"deleteUsers","original":{"line":38,"column":32},"generated":{"line":1,"column":846}},{"source":"Routes/admin.js","name":"validate","original":{"line":38,"column":44},"generated":{"line":1,"column":858}},{"source":"Routes/admin.js","name":"admin","original":{"line":39,"column":26},"generated":{"line":1,"column":867}},{"source":"Routes/admin.js","name":"deleteUsers","original":{"line":39,"column":32},"generated":{"line":1,"column":869}},{"source":"Routes/admin.js","name":"post","original":{"line":39,"column":44},"generated":{"line":1,"column":881}},{"source":"Routes/admin.js","name":"router","original":{"line":41,"column":0},"generated":{"line":1,"column":887}},{"source":"Routes/admin.js","name":"get","original":{"line":41,"column":7},"generated":{"line":1,"column":889}},{"source":"Routes/admin.js","original":{"line":41,"column":11},"generated":{"line":1,"column":893}},{"source":"Routes/admin.js","name":"admin","original":{"line":41,"column":29},"generated":{"line":1,"column":909}},{"source":"Routes/admin.js","name":"deleteFiles","original":{"line":41,"column":35},"generated":{"line":1,"column":911}},{"source":"Routes/admin.js","name":"get","original":{"line":41,"column":47},"generated":{"line":1,"column":923}},{"source":"Routes/admin.js","name":"router","original":{"line":42,"column":0},"generated":{"line":1,"column":928}},{"source":"Routes/admin.js","name":"post","original":{"line":42,"column":7},"generated":{"line":1,"column":930}},{"source":"Routes/admin.js","original":{"line":42,"column":12},"generated":{"line":1,"column":935}},{"source":"Routes/admin.js","name":"admin","original":{"line":42,"column":29},"generated":{"line":1,"column":951}},{"source":"Routes/admin.js","name":"deleteFiles","original":{"line":42,"column":35},"generated":{"line":1,"column":953}},{"source":"Routes/admin.js","name":"post","original":{"line":42,"column":47},"generated":{"line":1,"column":965}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":971}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":975}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":977}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":979}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":987}},{"source":"Routes/admin.js","name":"router","original":{"line":44,"column":15},"generated":{"line":1,"column":995}}],"sources":{"Routes/admin.js":"import express    from \"express\";\r\nimport * as admin from \"../Controllers/admin\";\r\n\r\nconst router = express.Router();\r\n\r\n/////////////////\r\n// ADMIN STUFF //\r\n/////////////////\r\n/**\r\n * By now the user needs to be admin\r\n */\r\nrouter.use((req, res, next) => {\r\n    if (res.locals.user.isadmin)\r\n        return next();\r\n\r\n    return res.render(\"login\");\r\n});\r\n\r\n/////////////////////\r\n// TOKEN GENERATOR //\r\n/////////////////////\r\n\r\nrouter.get(\"/token\",  admin.token.get);\r\nrouter.post(\"/token\", admin.token.validate, \r\n                      admin.token.post);\r\n\r\n////////////////////\r\n// PASSWORD RESET //\r\n////////////////////\r\nrouter.get(\"/reset-password\",       admin.resetPassword.get);\r\nrouter.post(\"/generate-reset-link\", admin.resetPassword.validate, \r\n                                    admin.resetPassword.post);\r\n\r\n////////////////////////\r\n// DELETE USERS/FILES //\r\n////////////////////////\r\nrouter.get(\"/view-users\", admin.deleteUsers.get);\r\nrouter.post(\"/delete\",    admin.deleteUsers.validate, \r\n                          admin.deleteUsers.post);\r\n\r\nrouter.get(\"/remove-files\",  admin.deleteFiles.get);\r\nrouter.post(\"/remove-files\", admin.deleteFiles.post);\r\n\r\nexport default router;"},"lineCount":null}},"hash":"e07f4ca09c743a4d80a9f619771bb330","cacheData":{"env":{}}}