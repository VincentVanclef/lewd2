{"id":"r1n6","dependencies":[{"name":"C:\\Users\\inaba\\Programming\\Lewd2\\.babelrc","includedInParent":true,"mtime":1545517173655},{"name":"C:\\Users\\inaba\\Programming\\Lewd2\\package.json","includedInParent":true,"mtime":1545850952595}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=t(require(\"dnode\"));function t(e){return e&&e.__esModule?e:{default:e}}const o=(t,o)=>{const r=e.default.connect(parseInt(process.env.MESSAGE_SERVER_PORT));r.on(\"remote\",e=>{e.sophosScan(t,o),e.virusTotalScan(o,t,1),r.end()})};var r=o;exports.default=r;","map":{"mappings":[{"source":"Functions/Upload/scan.js","name":"scan","original":{"line":15,"column":15},"generated":{"line":1,"column":0}},{"source":"Functions/Upload/scan.js","name":"scan","original":{"line":15,"column":15},"generated":{"line":1,"column":13}},{"source":"Functions/Upload/scan.js","name":"scan","original":{"line":15,"column":15},"generated":{"line":1,"column":20}},{"source":"Functions/Upload/scan.js","name":"scan","original":{"line":15,"column":15},"generated":{"line":1,"column":35}},{"source":"Functions/Upload/scan.js","name":"scan","original":{"line":15,"column":15},"generated":{"line":1,"column":43}},{"source":"Functions/Upload/scan.js","name":"scan","original":{"line":15,"column":15},"generated":{"line":1,"column":56}},{"source":"Functions/Upload/scan.js","name":"scan","original":{"line":15,"column":15},"generated":{"line":1,"column":57}},{"source":"Functions/Upload/scan.js","name":"scan","original":{"line":15,"column":15},"generated":{"line":1,"column":64}},{"source":"Functions/Upload/scan.js","name":"scan","original":{"line":15,"column":15},"generated":{"line":1,"column":68}},{"source":"Functions/Upload/scan.js","name":"scan","original":{"line":15,"column":15},"generated":{"line":1,"column":76}},{"source":"Functions/Upload/scan.js","name":"scan","original":{"line":15,"column":15},"generated":{"line":1,"column":89}},{"source":"Functions/Upload/scan.js","original":{"line":1,"column":0},"generated":{"line":1,"column":91}},{"source":"Functions/Upload/scan.js","original":{"line":1,"column":0},"generated":{"line":1,"column":95}},{"source":"Functions/Upload/scan.js","original":{"line":1,"column":0},"generated":{"line":1,"column":97}},{"source":"Functions/Upload/scan.js","original":{"line":1,"column":0},"generated":{"line":1,"column":99}},{"source":"Functions/Upload/scan.js","original":{"line":1,"column":0},"generated":{"line":1,"column":107}},{"source":"Functions/Upload/scan.js","name":"scan","original":{"line":15,"column":15},"generated":{"line":1,"column":117}},{"source":"Functions/Upload/scan.js","name":"scan","original":{"line":15,"column":15},"generated":{"line":1,"column":126}},{"source":"Functions/Upload/scan.js","name":"scan","original":{"line":15,"column":15},"generated":{"line":1,"column":128}},{"source":"Functions/Upload/scan.js","name":"scan","original":{"line":15,"column":15},"generated":{"line":1,"column":131}},{"source":"Functions/Upload/scan.js","name":"scan","original":{"line":15,"column":15},"generated":{"line":1,"column":138}},{"source":"Functions/Upload/scan.js","name":"scan","original":{"line":15,"column":15},"generated":{"line":1,"column":141}},{"source":"Functions/Upload/scan.js","name":"scan","original":{"line":15,"column":15},"generated":{"line":1,"column":143}},{"source":"Functions/Upload/scan.js","name":"scan","original":{"line":15,"column":15},"generated":{"line":1,"column":154}},{"source":"Functions/Upload/scan.js","name":"scan","original":{"line":15,"column":15},"generated":{"line":1,"column":156}},{"source":"Functions/Upload/scan.js","name":"scan","original":{"line":15,"column":15},"generated":{"line":1,"column":157}},{"source":"Functions/Upload/scan.js","name":"scan","original":{"line":15,"column":15},"generated":{"line":1,"column":165}},{"source":"Functions/Upload/scan.js","original":{"line":6,"column":0},"generated":{"line":1,"column":168}},{"source":"Functions/Upload/scan.js","name":"scan","original":{"line":6,"column":6},"generated":{"line":1,"column":174}},{"source":"Functions/Upload/scan.js","original":{"line":6,"column":13},"generated":{"line":1,"column":176}},{"source":"Functions/Upload/scan.js","name":"fileName","original":{"line":6,"column":14},"generated":{"line":1,"column":177}},{"source":"Functions/Upload/scan.js","name":"fileHash","original":{"line":6,"column":24},"generated":{"line":1,"column":179}},{"source":"Functions/Upload/scan.js","name":"external","original":{"line":7,"column":10},"generated":{"line":1,"column":184}},{"source":"Functions/Upload/scan.js","name":"external","original":{"line":7,"column":10},"generated":{"line":1,"column":190}},{"source":"Functions/Upload/scan.js","name":"dnode","original":{"line":7,"column":21},"generated":{"line":1,"column":192}},{"source":"Functions/Upload/scan.js","name":"connect","original":{"line":7,"column":27},"generated":{"line":1,"column":194}},{"source":"Functions/Upload/scan.js","name":"connect","original":{"line":7,"column":27},"generated":{"line":1,"column":202}},{"source":"Functions/Upload/scan.js","name":"parseInt","original":{"line":7,"column":35},"generated":{"line":1,"column":210}},{"source":"Functions/Upload/scan.js","name":"process","original":{"line":7,"column":44},"generated":{"line":1,"column":219}},{"source":"Functions/Upload/scan.js","name":"env","original":{"line":7,"column":52},"generated":{"line":1,"column":227}},{"source":"Functions/Upload/scan.js","name":"MESSAGE_SERVER_PORT","original":{"line":7,"column":56},"generated":{"line":1,"column":231}},{"source":"Functions/Upload/scan.js","name":"external","original":{"line":8,"column":4},"generated":{"line":1,"column":253}},{"source":"Functions/Upload/scan.js","name":"on","original":{"line":8,"column":13},"generated":{"line":1,"column":255}},{"source":"Functions/Upload/scan.js","original":{"line":8,"column":16},"generated":{"line":1,"column":258}},{"source":"Functions/Upload/scan.js","name":"remote","original":{"line":8,"column":26},"generated":{"line":1,"column":267}},{"source":"Functions/Upload/scan.js","name":"remote","original":{"line":9,"column":8},"generated":{"line":1,"column":271}},{"source":"Functions/Upload/scan.js","name":"sophosScan","original":{"line":9,"column":15},"generated":{"line":1,"column":273}},{"source":"Functions/Upload/scan.js","name":"fileName","original":{"line":9,"column":26},"generated":{"line":1,"column":284}},{"source":"Functions/Upload/scan.js","name":"fileHash","original":{"line":9,"column":36},"generated":{"line":1,"column":286}},{"source":"Functions/Upload/scan.js","name":"remote","original":{"line":10,"column":8},"generated":{"line":1,"column":289}},{"source":"Functions/Upload/scan.js","name":"virusTotalScan","original":{"line":10,"column":15},"generated":{"line":1,"column":291}},{"source":"Functions/Upload/scan.js","name":"fileHash","original":{"line":10,"column":30},"generated":{"line":1,"column":306}},{"source":"Functions/Upload/scan.js","name":"fileName","original":{"line":10,"column":40},"generated":{"line":1,"column":308}},{"source":"Functions/Upload/scan.js","original":{"line":10,"column":50},"generated":{"line":1,"column":310}},{"source":"Functions/Upload/scan.js","name":"external","original":{"line":11,"column":8},"generated":{"line":1,"column":313}},{"source":"Functions/Upload/scan.js","name":"end","original":{"line":11,"column":17},"generated":{"line":1,"column":315}},{"source":"Functions/Upload/scan.js","name":"scan","original":{"line":15,"column":15},"generated":{"line":1,"column":324}},{"source":"Functions/Upload/scan.js","name":"scan","original":{"line":15,"column":15},"generated":{"line":1,"column":328}},{"source":"Functions/Upload/scan.js","name":"scan","original":{"line":15,"column":15},"generated":{"line":1,"column":330}},{"source":"Functions/Upload/scan.js","name":"scan","original":{"line":15,"column":15},"generated":{"line":1,"column":332}},{"source":"Functions/Upload/scan.js","name":"scan","original":{"line":15,"column":15},"generated":{"line":1,"column":340}},{"source":"Functions/Upload/scan.js","name":"scan","original":{"line":15,"column":15},"generated":{"line":1,"column":348}}],"sources":{"Functions/Upload/scan.js":"import dnode from \"dnode\";\r\n\r\n/**\r\n * Scans a file with sophos and gets a file report from VirusTotal\r\n */\r\nconst scan = (fileName, fileHash) => {\r\n    const external = dnode.connect(parseInt(process.env.MESSAGE_SERVER_PORT));\r\n    external.on(\"remote\", remote => {\r\n        remote.sophosScan(fileName, fileHash);\r\n        remote.virusTotalScan(fileHash, fileName, 1);\r\n        external.end();\r\n    });\r\n}\r\n\r\nexport default scan;"},"lineCount":null}},"hash":"b5201b058b904efa670f67daeb8297e7","cacheData":{"env":{}}}